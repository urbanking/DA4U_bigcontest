# ë¹„ë°€ ìƒë‹´ì‚¬ AI ì‹œìŠ¤í…œ

**BigContest AI Agent** - Gemini 2.5 Flash + Google Maps MCP ê¸°ë°˜ 1:1 ë¹„ë°€ ìƒë‹´ ì„œë¹„ìŠ¤

## ğŸ“‹ í”„ë¡œì íŠ¸ ê°œìš”

**ë¹„ë°€ ìƒë‹´ì‚¬ AI ì‹œìŠ¤í…œ**ì€ Gemini 2.5 Flashì™€ Google Maps MCPë¥¼ í™œìš©í•œ ë©€í‹°ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œìœ¼ë¡œ, ìƒì  ì½”ë“œë§Œìœ¼ë¡œ ê°€ê²Œì˜ ìƒê¶Œ, ì—…ì¢…, ì ‘ê·¼ì„±, ë¦¬ë·° ë“±ì„ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ë§ì¶¤í˜• ë§ˆì¼€íŒ… ì „ëµì„ ì œì•ˆí•˜ëŠ” í”„ë¦¬ë¯¸ì—„ ìƒë‹´ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

### ğŸ¯ í•µì‹¬ íŠ¹ì§•

- **1:1 ë¹„ë°€ ìƒë‹´**: ìƒì  ì½”ë“œ ê¸°ë°˜ ê°œì¸í™”ëœ ìƒë‹´ ì„œë¹„ìŠ¤
- **5ì°¨ì› ì¢…í•© ë¶„ì„**: ë§¤ì¥, ê³ ê°, ì´ë™íŒ¨í„´, íŒŒë…¸ë¼ë§ˆ, ìƒê¶Œ ë¶„ì„
- **Google Maps MCP í†µí•©**: ë¦¬ë·°, í‰ì , ì˜ì—…ì‹œê°„ ìë™ ê²€ìƒ‰
- **ì‹¤ì‹œê°„ AI ë¶„ì„**: Gemini 2.5 Flash ê¸°ë°˜ ì¦‰ì‹œ ë¶„ì„ ë° ì¸ì‚¬ì´íŠ¸ ì œê³µ
- **ìŠ¤ë§ˆíŠ¸ ë§ˆì¼€íŒ… ì „ëµ** â­ NEW: ì—°ë ¹ëŒ€ë³„ SNS ì±„ë„ ì¶”ì²œ + ë°°ë‹¬ìœ¨ ë°˜ì˜ + R10 ìœ„í—˜ ì½”ë“œ
- **ì‹ ë©”ë‰´ ì¶”ì²œ**: ë„¤ì´ë²„ í¬ë¡¤ë§ ê¸°ë°˜ íŠ¸ë Œë“œ ë¶„ì„ ë° ì‹ ë©”ë‰´ ì œì•ˆ
- **ëŒ€í™”í˜• ìƒë‹´**: LangChain ê¸°ë°˜ ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆì˜ì‘ë‹µ

# ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
bigcontest_ai_agent/
â”‚
â”œâ”€â”€ .env                        # ğŸ” í™˜ê²½ë³€ìˆ˜ (ìƒëŒ€ê²½ë¡œ ì‚¬ìš©)
â”œâ”€â”€ requirements.txt            # ğŸ“¦ ì „ì²´ ì˜ì¡´ì„±
â”œâ”€â”€ SETUP.md                    # ğŸ“˜ ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ
â”‚
â”œâ”€â”€ data/                       # ğŸ“Š ë°ì´í„° íŒŒì¼
â”‚   â””â”€â”€ matched_store_results.csv  # ë§¤ì¥ ì •ë³´ (4,187ê°œ)
â”‚
â”œâ”€â”€ agents_new/                 # ğŸ§  AI ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ google_map_mcp/         # ğŸ—ºï¸ Google Maps MCP ê²€ìƒ‰
â”‚   â”œâ”€â”€ store_agent/            # ğŸª ë§¤ì¥ ë¶„ì„ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ marketing_agent/        # ğŸ“ˆ ë§ˆì¼€íŒ… ì „ëµ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ new_product_agent/      # ğŸœ ì‹ ë©”ë‰´ ì¶”ì²œ ì—ì´ì „íŠ¸
â”‚   â”œâ”€â”€ panorama_img_anal/      # ğŸŒ† íŒŒë…¸ë¼ë§ˆ ì´ë¯¸ì§€ ë¶„ì„
â”‚   â””â”€â”€ marketplcae_anal/       # ğŸ¬ ìƒê¶Œ ë¶„ì„
â”‚
â”œâ”€â”€ open_sdk/                   # ğŸ¨ Streamlit í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â””â”€â”€ streamlit_app/
â”‚       â”œâ”€â”€ app.py              # ë©”ì¸ Streamlit ì•±
â”‚       â”œâ”€â”€ ai_agents/          # AI ìƒë‹´ ì—ì´ì „íŠ¸
â”‚       â”‚   â”œâ”€â”€ consultation_agent.py  # ëŒ€í™”í˜• ìƒë‹´
â”‚       â”‚   â””â”€â”€ query_classifier.py    # ì§ˆë¬¸ ë¶„ë¥˜
â”‚       â”œâ”€â”€ utils/              # ìœ í‹¸ë¦¬í‹°
â”‚       â”‚   â””â”€â”€ store_search_processor.py  # MCP ê²€ìƒ‰ ì²˜ë¦¬
â”‚       â””â”€â”€ requirements.txt    # Streamlit ì˜ì¡´ì„±
â”‚
â”œâ”€â”€ output/                     # ğŸ“¦ ë¶„ì„ ê²°ê³¼ ì¶œë ¥
â”‚   â””â”€â”€ store_mcp_searches/     # Google Maps MCP ê²€ìƒ‰ ê²°ê³¼
â”‚
â””â”€â”€ configs/                    # âš™ï¸ ì„¤ì • íŒŒì¼
    â”œâ”€â”€ weights.yml             # ì§€í‘œ ê°€ì¤‘ì¹˜
    â”œâ”€â”€ thresholds.yml          # ê²½ê³  ì„ê³„ê°’
    â”œâ”€â”€ prescriptions.yml       # ê°œì„  ì•¡ì…˜
    â””â”€â”€ paths.yml               # íŒŒì¼ ê²½ë¡œ
```

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜ ìƒì„¸

### ë©€í‹°ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ ì„¤ê³„

ë³¸ ì‹œìŠ¤í…œì€ **6ê°œì˜ ë…ë¦½ì ì¸ AI Agent**ê°€ í˜‘ë ¥í•˜ì—¬ ì‘ë™í•˜ëŠ” **ë©€í‹°ì—ì´ì „íŠ¸ ì•„í‚¤í…ì²˜**ì…ë‹ˆë‹¤:

```
ì´ˆê¸° ë¶„ì„ ë‹¨ê³„ (2-3ë¶„)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ì‚¬ìš©ì ì…ë ¥: ìƒì  ì½”ë“œ]                              â”‚
â”‚         â†“                                            â”‚
â”‚  [CSV ë§¤ì¹­ & ë°ì´í„° ë¡œë“œ]                             â”‚
â”‚         â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ Store Agent  â”‚  â”‚  Panorama    â”‚  â”‚ Marketplace  â”‚â”‚
â”‚  â”‚   (ë§¤ì¥ë¶„ì„)  â”‚  â”‚  (ì§€ì—­ë¶„ì„)   â”‚  â”‚  (ìƒê¶Œë¶„ì„)   â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚         â†“                â†“                  â†“         â”‚
â”‚  [PNG ì°¨íŠ¸ ìƒì„±]   [ì´ë¯¸ì§€ ë¶„ì„]      [ìƒê¶Œ ë°ì´í„°]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ìƒë‹´ ì‹œì‘ ë‹¨ê³„ (1-2ë¶„)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ì´ˆê¸° ë¶„ì„ ê²°ê³¼ ë¡œë“œ]                                 â”‚
â”‚         â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ Marketing Agentâ”‚ â† Store ê²°ê³¼ ê¸°ë°˜                â”‚
â”‚  â”‚  (ë§ˆì¼€íŒ… ì „ëµ)  â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚         â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ Google Maps MCPâ”‚ â† ì‹¤ì‹œê°„ ê²€ìƒ‰                    â”‚
â”‚  â”‚  (ë¦¬ë·°/í‰ì )    â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚         â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚  â”‚ New Product    â”‚ â† ë„¤ì´ë²„ í¬ë¡¤ë§                   â”‚
â”‚  â”‚  (ì‹ ë©”ë‰´ ì¶”ì²œ)  â”‚                                 â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚         â†“                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ Consultation Agent (LangChain)     â”‚             â”‚
â”‚  â”‚  - ëª¨ë“  ë°ì´í„° í†µí•©                  â”‚             â”‚
â”‚  â”‚  - ëŒ€í™”í˜• ìƒë‹´                       â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ë°ì´í„° íŒŒì´í”„ë¼ì¸

```
ë§¤ì¥ ì½”ë“œ ì…ë ¥
    â†“
CSV ë§¤ì¹­ (4,187ê°œ ë§¤ì¥)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ë³‘ë ¬ ì²˜ë¦¬ (ì´ˆê¸° ë¶„ì„)                â”‚
â”‚  â”œâ”€ Store: ë§¤ì¶œ/ê³ ê° ë¶„ì„             â”‚
â”‚  â”œâ”€ Panorama: 5ë°©í–¥ ì´ë¯¸ì§€ ë¶„ì„       â”‚
â”‚  â””â”€ Marketplace: ìƒê¶Œ ë°ì´í„° ë¶„ì„     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
JSON ê²°ê³¼ ì €ì¥ (ê° Agentë³„)
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ìˆœì°¨ ì²˜ë¦¬ (ìƒë‹´ ì‹œì‘)                â”‚
â”‚  â”œâ”€ Marketing: ì „ëµ ìƒì„±              â”‚
â”‚  â”œâ”€ MCP: ì‹¤ì‹œê°„ ê²€ìƒ‰                  â”‚
â”‚  â””â”€ New Product: íŠ¸ë Œë“œ í¬ë¡¤ë§        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
í†µí•© JSON/MD ìƒì„±
    â†“
LangChain ëŒ€í™”í˜• ìƒë‹´
```

## ğŸš€ ë¹„ë°€ ìƒë‹´ì‚¬ ì‹œìŠ¤í…œ ì£¼ìš” ê¸°ëŠ¥

### ğŸ” 1ë‹¨ê³„: ìƒì  ì½”ë“œ ì…ë ¥ ë° ë¶„ì„ ìš”ì²­

ì‚¬ìš©ìëŠ” 10ìë¦¬ ìƒì  ì½”ë“œ (ì˜ˆ: `000F03E44A`, `002816BA73`)ë¥¼ ì…ë ¥í•˜ì—¬ ë¹„ë°€ ìƒë‹´ì„ ì‹œì‘í•©ë‹ˆë‹¤.

### ğŸ“Š 2ë‹¨ê³„: ì´ˆê¸° ë¶„ì„ ì‹¤í–‰ (ì•½ 2-3ë¶„)

#### ğŸª **Store Agent ë¶„ì„** (ë§¤ì¥ ì„±ê³¼ ë¶„ì„)

**ëª©ì **: ë§¤ì¥ì˜ ë§¤ì¶œ, ê³ ê°, ìš´ì˜ ì„±ê³¼ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ í˜„ì¬ ìƒíƒœë¥¼ íŒŒì•…

**ì…ë ¥ ë°ì´í„°**:
- ë§¤ì¥ ì½”ë“œ (10ìë¦¬)
- `matched_store_results.csv`ì—ì„œ ë§¤ì¥ ì •ë³´ ìë™ ë¡œë“œ

**ë¶„ì„ í•­ëª©**:
1. **ë§¤ì¥ ê°œìš” ì¶”ì¶œ**
   - ë§¤ì¥ëª…, ì£¼ì†Œ, ì—…ì¢…, ìƒê¶Œ ì •ë³´ ìë™ ì‹ë³„
   - í”„ëœì°¨ì´ì¦ˆ ì—¬ë¶€, ë§¤ì¥ ì—°ë ¹ íŒŒì•…

2. **ë§¤ì¶œ ì„±ê³¼ ë¶„ì„**
   - ì›”ë³„ ë§¤ì¶œ íŠ¸ë Œë“œ ë¶„ì„ (12ê°œì›”)
   - ì—…ì¢… ë‚´ ìˆœìœ„ ë³€í™” ì¶”ì 
   - ì·¨ì†Œìœ¨ ë¶„ì„ ë° ê²½ê³  ë°œìƒ

3. **ê³ ê° íŠ¹ì„± ë¶„ì„**
   - ì„±ë³„ ë¶„í¬ (ë‚¨/ì—¬ ë¹„ìœ¨)
   - ì—°ë ¹ëŒ€ë³„ ë¶„í¬ (20ëŒ€ ì´í•˜ ~ 60ëŒ€ ì´ìƒ)
   - ì‹ ê·œ/ì¬ë°©ë¬¸ ê³ ê° ë¹„ìœ¨
   - ì¬ë°©ë¬¸ìœ¨ íŠ¸ë Œë“œ (3ê°œì›”)

4. **ì§„ë‹¨ ì—”ì§„**
   - 11ê°€ì§€ í•µì‹¬ ì§€í‘œ ìë™ ê³„ì‚°
   - ìœ„í—˜ ìˆ˜ì¤€ íŒì • (ì •ìƒ/ì£¼ì˜/ê²½ê³ /ìœ„í—˜)
   - ê°œì„  ì•¡ì…˜ ìë™ ì¶”ì²œ

**ì¶œë ¥ íŒŒì¼**:
- `store_analysis.json`: ì „ì²´ ë¶„ì„ ë°ì´í„° (êµ¬ì¡°í™”)
- `store_analysis_report_{code}.json`: ë¦¬í¬íŠ¸ìš© ìš”ì•½ ë°ì´í„°
- **7ê°œ PNG ì°¨íŠ¸**:
  - `{code}_sales_trend.png`: ë§¤ì¶œ ì¶”ì´ (ì„  ê·¸ë˜í”„)
  - `{code}_ranking_trend.png`: ìˆœìœ„ ë³€í™” (ì„  ê·¸ë˜í”„)
  - `{code}_customer_trends.png`: ê³ ê° íŠ¸ë Œë“œ (ì„  ê·¸ë˜í”„)
  - `{code}_gender_pie.png`: ì„±ë³„ ë¶„í¬ (íŒŒì´ ì°¨íŠ¸)
  - `{code}_age_pie.png`: ì—°ë ¹ ë¶„í¬ (íŒŒì´ ì°¨íŠ¸)
  - `{code}_new_returning_trends.png`: ì‹ ê·œ/ì¬ë°©ë¬¸ (ì ì¸µ ê·¸ë˜í”„)
  - `{code}_detailed_pie.png`: ìƒì„¸ ê³ ê° ì„¸ê·¸ë¨¼íŠ¸ (íŒŒì´ ì°¨íŠ¸)

**í•µì‹¬ ê¸°ìˆ **:
- Gemini 2.5 Flash ê¸°ë°˜ PNG ì°¨íŠ¸ ìë™ í•´ì„
- YAML ê¸°ë°˜ ì„¤ì • íŒŒì¼ (weights, thresholds, prescriptions)
- Langfuse íŠ¸ë ˆì´ì‹±ìœ¼ë¡œ ë¶„ì„ ê³¼ì • ëª¨ë‹ˆí„°ë§

#### ğŸŒ† **Panorama ì§€ì—­ ë¶„ì„**

**ëª©ì **: ë§¤ì¥ ì£¼ë³€ 300m ë°˜ê²½ì˜ ì‹¤ì œ ê±°ë¦¬ í™˜ê²½ì„ ì´ë¯¸ì§€ë¡œ ë¶„ì„í•˜ì—¬ ì…ì§€ íŠ¹ì„± íŒŒì•…

**ì…ë ¥ ë°ì´í„°**:
- ë§¤ì¥ ì£¼ì†Œ (ìœ„ë„/ê²½ë„ ìë™ ë³€í™˜)
- Google Street View APIë¡œ 5ê°œ ë°©í–¥ íŒŒë…¸ë¼ë§ˆ ì´ë¯¸ì§€ ìˆ˜ì§‘

**ë¶„ì„ í•­ëª©**:
1. **ì´ë¯¸ì§€ ê¸°ë°˜ í‰ê°€ (ê° 5ì  ì²™ë„)**
   - ìƒê¶Œ ë¶„ìœ„ê¸° ì ìˆ˜: ìƒì—…ì§€êµ¬ í™œì„±ë„, ìœ ë™ì¸êµ¬ ë°€ë„
   - ë„ë¡œ ë¶„ìœ„ê¸° ì ìˆ˜: ì°¨ëŸ‰/ë³´í–‰ì í†µí–‰ëŸ‰, êµí†µ í¸ì˜ì„±
   - ì²­ê²°ë„ ì ìˆ˜: ê±°ë¦¬ ì²­ê²° ìƒíƒœ, ê´€ë¦¬ ìˆ˜ì¤€
   - ë³´í–‰í™˜ê²½ ì ìˆ˜: ë³´ë„ ìƒíƒœ, ì ‘ê·¼ì„±, ì•ˆì „ì„±
   - ì—…ì¢…ë‹¤ì–‘ì„± ì ìˆ˜: ì£¼ë³€ ì—…ì¢… êµ¬ì„±, ê²½ìŸ í™˜ê²½

2. **ì¢…í•© í‰ê°€**
   - 5ê°€ì§€ ì ìˆ˜ì˜ í‰ê·  ê³„ì‚°
   - ê°•ì  3ê°€ì§€ ìë™ ë„ì¶œ
   - ì•½ì  3ê°€ì§€ ìë™ ë„ì¶œ
   - ì¶”ì²œ ì—…ì¢… 3ê°€ì§€ ì œì•ˆ

**ì¶œë ¥ íŒŒì¼**:
- `panorama_analysis.json`: ì „ì²´ ë¶„ì„ ê²°ê³¼ (5ê°œ ì´ë¯¸ì§€ + ì ìˆ˜)
- ë‹¤ìš´ë¡œë“œí•œ ì´ë¯¸ì§€ëŠ” ì„ì‹œ ì €ì¥ (ì„ íƒ)

**í•µì‹¬ ê¸°ìˆ **:
- Gemini Vision APIë¡œ ì´ë¯¸ì§€ ìë™ ë¶„ì„
- 5ê°œ ë°©í–¥ ë™ì‹œ ë¶„ì„ í›„ ì¢…í•© í‰ê°€
- ì§€ì—­ íŠ¹ì„± ê¸°ë°˜ ì—…ì¢… ì¶”ì²œ ë¡œì§

#### ğŸ¬ **Marketplace ìƒê¶Œë¶„ì„**

**ëª©ì **: í•´ë‹¹ ìƒê¶Œì˜ í˜„í™©, ìœ ë™ì¸êµ¬, ê²½ìŸ í™˜ê²½ì„ ë°ì´í„° ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„

**ì…ë ¥ ë°ì´í„°**:
- ë§¤ì¥ ì£¼ì†Œ â†’ ìƒê¶Œëª… ìë™ ë§¤ì¹­
- `ìƒê¶Œë¶„ì„ì„œë¹„ìŠ¤_ê²°ê³¼/{ìƒê¶Œëª…}.json` ë°ì´í„° ë¡œë“œ

**ë¶„ì„ í•­ëª©**:
1. **ìƒê¶Œ í˜„í™©**
   - ìƒê¶Œ ê·œëª¨ (ë§¤ì¶œì•¡, ì í¬ ìˆ˜)
   - ìƒê¶Œ íŠ¹ì„± (ì£¼ìš” ì—…ì¢…, ìƒê¶Œ ìœ í˜•)
   - ê²½ìŸ í™˜ê²½ (ë™ì¢… ì—…ì¢… ìˆ˜, ì‹œì¥ í¬í™”ë„)

2. **ìœ ë™ì¸êµ¬ íŒ¨í„´**
   - ì‹œê°„ëŒ€ë³„ ìœ ë™ì¸êµ¬ ë¶„í¬ (ì•„ì¹¨/ì ì‹¬/ì €ë…/ì•¼ê°„)
   - ìš”ì¼ë³„ ìœ ë™ì¸êµ¬ íŠ¹ì„±
   - ì„±ë³„/ì—°ë ¹ëŒ€ë³„ ìœ ë™ì¸êµ¬ êµ¬ì„±

3. **ì…ì§€ í‰ê°€**
   - ë§¤ì¥ ìœ„ì¹˜ì˜ ìƒê¶Œ ë‚´ ì…ì§€ ì í•©ì„±
   - ì ‘ê·¼ì„± ì ìˆ˜ (ëŒ€ì¤‘êµí†µ, ì£¼ì°¨ ì‹œì„¤)
   - ë°°í›„ ìˆ˜ìš” ë¶„ì„ (ì£¼ê±°/ì§ì¥ ì¸êµ¬)

**ì¶œë ¥ íŒŒì¼**:
- `marketplace_analysis.json`: ìƒê¶Œ ë¶„ì„ ë°ì´í„°
- `ìƒê¶Œë¶„ì„ë¦¬í¬íŠ¸.pdf`: ì‹œê°í™” ë¦¬í¬íŠ¸ (ì„ íƒ)

**í•µì‹¬ ê¸°ìˆ **:
- ê³µê³µë°ì´í„° ê¸°ë°˜ ìƒê¶Œ ë¶„ì„
- ê³µê°„ ë°ì´í„° ì²˜ë¦¬ (GeoPandas, Shapely)
- ìƒê¶Œ-ë§¤ì¥ ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜

### ğŸ’¬ 3ë‹¨ê³„: ìƒë‹´ ì‹œì‘ (í†µí•© AI ë¶„ì„)

ì´ˆê¸° ë¶„ì„ ì™„ë£Œ í›„ "ğŸ’¬ ìƒë‹´ ì‹œì‘" ë²„íŠ¼ í´ë¦­ ì‹œ **3ê°€ì§€ Agentê°€ ìˆœì°¨ ì‹¤í–‰**:

#### ğŸ“ˆ **[0/3] Marketing Agent ì‹¤í–‰** (ë§ˆì¼€íŒ… ì „ëµ) â­ NEW

**ëª©ì **: Store Agent ë¶„ì„ ê²°ê³¼ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ê¸°ë°˜ ë§ˆì¼€íŒ… ì „ëµ ìë™ ìƒì„±

**ì…ë ¥ ë°ì´í„°**:
- Store Agent ë¶„ì„ ê²°ê³¼ (`store_analysis.json`)
- ê³ ê° ì—°ë ¹ëŒ€, ì„±ë³„, ì¬ë°©ë¬¸ìœ¨, ë°°ë‹¬ ë¹„ì¤‘ ìë™ ì¶”ì¶œ

**ë¶„ì„ í”„ë¡œì„¸ìŠ¤**:

1. **í˜ë¥´ì†Œë‚˜ ìƒì„± (Persona Engine)**
   - ë§¤ì¥ íŠ¹ì„± ê¸°ë°˜ ë™ì  í˜ë¥´ì†Œë‚˜ 5ê°œ ìë™ ìƒì„±
   - ì—…ì¢…, ìƒê¶Œ, ê³ ê° íŠ¹ì„±, í”„ëœì°¨ì´ì¦ˆ ì—¬ë¶€ ë°˜ì˜
   - Gemini 2.5 Flashë¡œ ìì—°ìŠ¤ëŸ¬ìš´ í˜ë¥´ì†Œë‚˜ ë¬¸êµ¬ ìƒì„±
   - **ì¶œë ¥**: ê³ ê° ìœ í˜•ë³„ íŠ¹ì„±, ì„ í˜¸ ì±„ë„, ë§ˆì¼€íŒ… í†¤

2. **ìœ„í—˜ ë¶„ì„ (Risk Analyzer)**
   - **R1~R10 ìœ„í—˜ ì½”ë“œ** ìë™ ê°ì§€:
     - R1: ë§¤ì¶œ í•˜ë½ (ì „ì›” ëŒ€ë¹„)
     - R2: ì¬ë°©ë¬¸ìœ¨ ì €í•˜ (ì—…ì¢… í‰ê·  ëŒ€ë¹„)
     - R3: ì‹ ê·œ ê³ ê° ìœ ì… ê°ì†Œ
     - R4: ìˆœìœ„ í•˜ë½
     - R5: ì·¨ì†Œìœ¨ ìƒìŠ¹
     - R6: ê³ ê° ì´íƒˆ ìœ„í—˜
     - R7: ê³„ì ˆì„± ì·¨ì•½
     - R8: ê²½ìŸ ì‹¬í™”
     - R9: ìš´ì˜ íš¨ìœ¨ì„± ì €í•˜
     - **R10 (ì‹ ê·œ)**: ì¬ë°©ë¬¸ìœ¨ ì ˆëŒ€ê°’ 30% ì´í•˜
   - ê° ìœ„í—˜ ìš”ì†Œì— ëŒ€í•œ **ì‹¬ê°ë„ ì ìˆ˜** (0-100ì )
   - ìœ„í—˜ ìˆ˜ì¤€ íŒì • (ë‚®ìŒ/ë³´í†µ/ë†’ìŒ/ìœ„í—˜)

3. **ìŠ¤ë§ˆíŠ¸ ì±„ë„ ì¶”ì²œ (Strategy Generator)**
   - **ë°ì´í„° ê¸°ë°˜ ì±„ë„ ì„ íƒ**:
     - `data/segment_sns.json` íŒŒì‹± (2024 ë¯¸ë””ì–´í†µê³„í¬í„¸)
     - ì—°ë ¹ëŒ€ë³„ SNS ì‚¬ìš©ë¥  ë° íŠ¸ë Œë“œ ë¶„ì„
     - ìµœì  ì±„ë„ 1-2ê°œë¡œ í•œì •í•˜ì—¬ êµ¬ì²´ì  ì¶”ì²œ
   - **ë°°ë‹¬ìœ¨ ë°˜ì˜**:
     - ë°°ë‹¬ìœ¨ 60% ì´ìƒ: ë°°ë‹¬ì•± (ë°°ë‹¬ì˜ë¯¼ì¡±, ì¿ íŒ¡ì´ì¸ ) ìš°ì„ 
     - ë°°ë‹¬ìœ¨ 40-60%: SNS + ë°°ë‹¬ì•± ë³‘í–‰
     - ë°°ë‹¬ìœ¨ 40% ì´í•˜: SNS + ì˜¤í”„ë¼ì¸ ì§‘ì¤‘
   - **í”¼í•´ì•¼ í•  ì±„ë„ ìë™ í•„í„°ë§**:
     - ì‚¬ìš©ë¥  í•˜ë½ ì¶”ì„¸ ì±„ë„ (ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬, í˜ì´ìŠ¤ë¶ ë“±)
     - ê·¼ê±°ì™€ í•¨ê»˜ ì œì‹œ

4. **ë§ˆì¼€íŒ… ì „ëµ ìƒì„±**
   - ìœ„í—˜ ì½”ë“œë³„ ë§ì¶¤í˜• ì „ëµ (í•˜ë“œì½”ë”©)
   - íƒ€ê²Ÿ ê³ ê°ë³„ ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµ ì œì•ˆ
   - ì˜ˆìƒ íš¨ê³¼, ì˜ˆì‚°, ì‹¤í–‰ ê¸°ê°„ í¬í•¨

5. **SNS ì½˜í…ì¸  ìƒì„±**
   - ì¸ìŠ¤íƒ€ê·¸ë¨/í˜ì´ìŠ¤ë¶ í¬ìŠ¤íŠ¸ ì˜ˆì‹œ (í•´ì‹œíƒœê·¸ í¬í•¨)
   - í”„ë¡œëª¨ì…˜ ë¬¸êµ¬ 3ê°€ì§€ ìë™ ìƒì„±

**ì¶œë ¥ íŒŒì¼**:
- `marketing_strategy.json`: ì „ì²´ ë§ˆì¼€íŒ… ì „ëµ (15-20KB)
  - `persona_analysis`: 5ê°œ í˜ë¥´ì†Œë‚˜ + í•µì‹¬ ì¸ì‚¬ì´íŠ¸
  - `risk_analysis`: R1-R10 ìœ„í—˜ ì½”ë“œ ë¶„ì„
  - `channel_recommendation`: ìµœì  ì±„ë„ + ì‚¬ìš©ë¥  + ê·¼ê±°
  - `marketing_strategies`: ì‹¤í–‰ ê°€ëŠ¥í•œ ì „ëµ 5-10ê°œ
  - `social_content`: SNS í¬ìŠ¤íŠ¸ ì˜ˆì‹œ
  
**ì°¨íŠ¸/ê·¸ë˜í”„ ì •ë³´** (í”„ë¡ íŠ¸ì—”ë“œ í‘œì‹œìš©):
- **í˜ë¥´ì†Œë‚˜ ì„¹ì…˜**:
  - `customer_demographics`: ì„±ë³„/ì—°ë ¹ ë¶„í¬ ì°¨íŠ¸
  - `customer_trends`: ì‹ ê·œ/ì¬ë°©ë¬¸ ê³ ê° íŠ¸ë Œë“œ ì°¨íŠ¸
- **ìœ„í—˜ ì§„ë‹¨ ì„¹ì…˜**:
  - ê° ìœ„í—˜ ì½”ë“œë³„ `chart_type`, `chart_title` ì •ë³´ í¬í•¨
  - ì˜ˆ: R1 â†’ "ë§¤ì¶œ ì¶”ì´" (sales_trend.png), R2 â†’ "ê³ ê° íŠ¸ë Œë“œ" (customer_trends.png)

**ì—°ë ¹ëŒ€ë³„ ì¶”ì²œ ì±„ë„ ì˜ˆì‹œ** (2024 ë°ì´í„° ê¸°ë°˜):
- **20ëŒ€**: ì¸ìŠ¤íƒ€ê·¸ë¨ (87.4%) â†’ í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬ (ëŒ€í­ í•˜ë½), í˜ì´ìŠ¤ë¶ (ëŒ€í­ í•˜ë½)
- **30ëŒ€**: ì¸ìŠ¤íƒ€ê·¸ë¨ (72.2%) â†’ í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬ (ëŒ€í­ í•˜ë½)
- **40ëŒ€**: ì¸ìŠ¤íƒ€ê·¸ë¨ (60.1%) + í˜ì´ìŠ¤ë¶ (ëŒ€í­ ìƒìŠ¹) â†’ í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬
- **50ëŒ€**: ë„¤ì´ë²„ë°´ë“œ (51.2%) + ì¸ìŠ¤íƒ€ê·¸ë¨ (ëŒ€í­ ìƒìŠ¹) â†’ í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬
- **60ëŒ€ ì´ìƒ**: ë„¤ì´ë²„ë°´ë“œ (59.8% ~ 71.6%) â†’ í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬, ì‹¸ì´ì›”ë“œ

**í•µì‹¬ ê¸°ìˆ **:
- Gemini 2.5 Flash ê¸°ë°˜ ë™ì  í˜ë¥´ì†Œë‚˜ ìƒì„±
- í†µê³„ ë°ì´í„° ê¸°ë°˜ ì±„ë„ ì¶”ì²œ (ë¯¸ë””ì–´í†µê³„í¬í„¸)
- Enum ìë™ ì§ë ¬í™” (JSON ì•ˆì „ì„±)
- Langfuse íŠ¸ë ˆì´ì‹±

#### ğŸ—ºï¸ **[1/3] Google Maps MCP ê²€ìƒ‰** (ìë™ ì‹¤í–‰)

**ëª©ì **: ì‹¤ì œ ë§¤ì¥ì˜ ì˜¨ë¼ì¸ ë¦¬ë·°, í‰ì , ì˜ì—…ì‹œê°„ ë“± ê³µê°œ ì •ë³´ ìë™ ìˆ˜ì§‘

**ì…ë ¥ ë°ì´í„°**:
- ë§¤ì¥ ì‹¤ì œ ìƒí˜¸ëª… (CSVì—ì„œ ìë™ ë¡œë“œ)
- ë§¤ì¥ ì „ì²´ ì£¼ì†Œ
- Google Maps API í‚¤

**ê²€ìƒ‰ í”„ë¡œì„¸ìŠ¤**:
1. **MCP (Model Context Protocol) ì„œë²„ ì´ˆê¸°í™”**
   - `@modelcontextprotocol/server-google-maps` ì‚¬ìš©
   - Google Maps APIì™€ í†µì‹ 

2. **ìë™ ë§¤ì¥ ê²€ìƒ‰**
   - ìƒí˜¸ëª… + ì£¼ì†Œë¡œ ì •í™•í•œ ë§¤ì¥ ì‹ë³„
   - Place ID ìë™ íšë“

3. **ìƒì„¸ ì •ë³´ ìˆ˜ì§‘**:
   - **í‰ì **: ë³„ì  (0.0~5.0)
   - **ë¦¬ë·°**: ìµœê·¼ ë¦¬ë·° 5-10ê°œ ìë™ ìˆ˜ì§‘
   - **ì˜ì—…ì‹œê°„**: ìš”ì¼ë³„ ì˜ì—…ì‹œê°„ (ì˜¤í”ˆ/ë§ˆê° ì‹œê°„)
   - **ì „í™”ë²ˆí˜¸**: ë§¤ì¥ ì—°ë½ì²˜
   - **ê°€ê²©ëŒ€**: ë©”ë‰´ë³„ ê°€ê²© ì •ë³´ (ê°€ëŠ¥í•œ ê²½ìš°)
   - **ì¸ê¸° ë©”ë‰´**: ìì£¼ ì–¸ê¸‰ë˜ëŠ” ë©”ë‰´
   - **ì¥ì /ë‹¨ì **: ë¦¬ë·° ê¸°ë°˜ ìë™ ë¶„ì„

**ì¶œë ¥ íŒŒì¼**:
- `output/store_mcp_searches/{store_code}_{timestamp}.txt`
  - ê²€ìƒ‰ ê²°ê³¼ ì „ì²´ í…ìŠ¤íŠ¸ (ì•½ 2-5KB)
  - AI ìƒë‹´ ì‹œ ì§ì ‘ ì°¸ì¡°

**í•µì‹¬ ê¸°ìˆ **:
- MCP (Model Context Protocol) í‘œì¤€
- Google Maps Places API
- ë¹„ë™ê¸° ê²€ìƒ‰ (async/await)
- ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì§‘

**í™œìš©**:
- AI ìƒë‹´ ì‹œ "ë§¤ì¥ ë¦¬ë·° ë¶„ì„í•´ì¤˜" ì§ˆë¬¸ì— ì¦‰ì‹œ ë‹µë³€
- "ì˜ì—…ì‹œê°„ì€?" ì§ˆë¬¸ì— ì •í™•í•œ ì‹œê°„ ì œê³µ
- ì‹¤ì œ ê³ ê° í”¼ë“œë°± ê¸°ë°˜ ê°œì„ ì  ë„ì¶œ

#### ğŸœ **[2/3] New Product Agent ì‹¤í–‰** (ì‹ ë©”ë‰´ ì¶”ì²œ)

**ëª©ì **: ë„¤ì´ë²„ íŠ¸ë Œë“œ í¬ë¡¤ë§ì„ í†µí•´ í˜„ì¬ ì¸ê¸° ìˆëŠ” ë©”ë‰´/ì¬ë£Œ ë¶„ì„ í›„ ì‹ ë©”ë‰´ ì œì•ˆ

**ì…ë ¥ ë°ì´í„°**:
- Store Agent ë¶„ì„ ê²°ê³¼ (ì—…ì¢…, ì£¼ ê³ ê° ì—°ë ¹ëŒ€/ì„±ë³„)
- ì—…ì¢…ë³„ í™œì„±í™” ì¡°ê±´ í™•ì¸ (ì˜ˆ: ì¹´í˜Â·ë””ì €íŠ¸, í•œì‹ ë“±)

**ë¶„ì„ í”„ë¡œì„¸ìŠ¤**:

1. **Agent í™œì„±í™” íŒì •**
   - ì§€ì› ì—…ì¢… í™•ì¸ (ì¹´í˜Â·ë””ì €íŠ¸, í•œì‹, ì¼ì‹ ë“±)
   - ë¹„í™œì„±í™” ì—…ì¢…ì€ ìŠ¤í‚µ

2. **íƒ€ê²Ÿ ì„ ì •**
   - **ì„±ë³„ ì„ íƒ**: ë§¤ì¥ ì£¼ ê³ ê° ì„±ë³„ vs ì—…ì¢… í‰ê·  ë¹„êµ
   - **ì—°ë ¹ëŒ€ ì„ íƒ**: ì£¼ ê³ ê° ì—°ë ¹ëŒ€ 2ê°œ ì„ íƒ
   - **ì¹´í…Œê³ ë¦¬ ì„ íƒ**: ì—…ì¢…ë³„ ì í•©í•œ ë„¤ì´ë²„ ì‡¼í•‘ ì¹´í…Œê³ ë¦¬ (3ê°œ)
     - ì˜ˆ: ì¹´í˜ â†’ ë†ì‚°ë¬¼, ìŒë£Œ, ê³¼ì/ë² ì´ì»¤ë¦¬

3. **ë„¤ì´ë²„ ë°ì´í„°ë© í¬ë¡¤ë§** (Selenium)
   - ì„ íƒí•œ í•„í„°ë¡œ ë„¤ì´ë²„ ì‡¼í•‘ ê²€ìƒ‰ì–´ ìˆœìœ„ ìˆ˜ì§‘
   - ê° ì¹´í…Œê³ ë¦¬ë³„ ìƒìœ„ 10ê°œ í‚¤ì›Œë“œ (ì´ 30ê°œ)
   - **íƒ€ì„ì•„ì›ƒ**: 30ì´ˆ (ì‹¤íŒ¨ ì‹œ ê¸°ë³¸ ì¶”ì²œ)
   - **ì¶œë ¥**: `{store_code}_keywords.json`

4. **LLM ì•„ì´ë””ì–´ ìƒì„±** (Gemini 2.5 Flash)
   - ìˆ˜ì§‘í•œ 30ê°œ í‚¤ì›Œë“œ ë¶„ì„
   - ë§¤ì¥ íŠ¹ì„± (ì—…ì¢…, ìœ„ì¹˜, ê³ ê°ì¸µ) ë°˜ì˜
   - **ì‹ ë©”ë‰´ 3-5ê°œ ì œì•ˆ**:
     - ë©”ë‰´ëª…
     - ì„¤ëª… (ì¬ë£Œ, íŠ¹ì§•)
     - íƒ€ê²Ÿ ê³ ê°
     - ì˜ˆìƒ ê°€ê²©ëŒ€
     - ì°¨ë³„í™” í¬ì¸íŠ¸

5. **Reranking** (ì„ íƒ)
   - ì‹¤í˜„ ê°€ëŠ¥ì„±, íŠ¸ë Œë“œ ì í•©ë„, ì°¨ë³„í™” ì ìˆ˜ ê¸°ë°˜ ìˆœìœ„ ì¡°ì •

**ì¶œë ¥ íŒŒì¼**:
- `new_product_recommendations.json`: ì‹ ë©”ë‰´ ì¶”ì²œ ê²°ê³¼
  - `target_segment`: íƒ€ê²Ÿ ê³ ê° (ì„±ë³„, ì—°ë ¹)
  - `trend_keywords`: ìˆ˜ì§‘í•œ í‚¤ì›Œë“œ 30ê°œ
  - `recommendations`: ì‹ ë©”ë‰´ 3-5ê°œ
  - `differentiation_strategy`: ì°¨ë³„í™” ì „ëµ

**í•µì‹¬ ê¸°ìˆ **:
- Selenium WebDriver (Chrome)
- ë„¤ì´ë²„ ë°ì´í„°ë© API (ë¹„ê³µì‹ í¬ë¡¤ë§)
- Gemini 2.5 Flash ê¸°ë°˜ ì•„ì´ë””ì–´ ìƒì„±
- íƒ€ì„ì•„ì›ƒ ë°©ì–´ ë¡œì§ (30ì´ˆ)

**ì˜ˆì‹œ ì¶œë ¥**:
```json
{
  "target_segment": {
    "gender": "ë‚¨ì„±",
    "age_groups": ["30ëŒ€", "40ëŒ€"]
  },
  "recommendations": [
    {
      "name": "í‘ì„ì ë¼ë–¼",
      "description": "ê³ ì†Œí•œ í‘ì„ìì™€ ë¶€ë“œëŸ¬ìš´ ìš°ìœ ì˜ ì¡°í™”",
      "target": "30-40ëŒ€ ë‚¨ì„±, ê±´ê°• ê´€ì‹¬ì¸µ",
      "price_range": "5,500-6,500ì›",
      "differentiation": "êµ­ì‚° í‘ì„ì 100% ì‚¬ìš©, ë¬´ì„¤íƒ• ì˜µì…˜"
    }
  ]
}
```

#### ğŸ’¡ **[3/3] LangChain Consultation Chain ìƒì„±**

- ëª¨ë“  ë¶„ì„ ê²°ê³¼ í†µí•© (Store + Marketing + MCP + New Product + Panorama + Marketplace)
- ëŒ€í™”í˜• ìƒë‹´ ì¤€ë¹„ ì™„ë£Œ

### ğŸ—¨ï¸ 4ë‹¨ê³„: ëŒ€í™”í˜• AI ìƒë‹´

ì‚¬ìš©ìëŠ” ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆë¬¸ìœ¼ë¡œ ìƒë‹´ ê°€ëŠ¥:

```
"ë§¤ì¥ ë¦¬ë·° ë¶„ì„í•´ì¤˜"
â†’ Google Maps ë¦¬ë·° 5ê°œ + ì¥ë‹¨ì  ë¶„ì„ ì œê³µ

"ì˜ì—…ì‹œê°„ì€?"
â†’ ì›”~í† : 11:30-15:00, 17:00-21:30 / ì¼: íœ´ë¬´

"ë§ˆì¼€íŒ… ì „ëµì€?" â­ NEW
â†’ 5ê°œ í˜ë¥´ì†Œë‚˜ë³„ ë§ì¶¤ ì „ëµ ì œê³µ
â†’ ì—°ë ¹ëŒ€ë³„ ìµœì  SNS ì±„ë„ ì¶”ì²œ (ì˜ˆ: 20ëŒ€ â†’ ì¸ìŠ¤íƒ€ê·¸ë¨)
â†’ R1~R10 ìœ„í—˜ ì½”ë“œ ë¶„ì„ ê²°ê³¼
â†’ ë°°ë‹¬ìœ¨ ë°˜ì˜ ë§ˆì¼€íŒ… ì•¡ì…˜

"ì‹ ë©”ë‰´ ì¶”ì²œí•´ì¤˜"
â†’ íŠ¸ë Œë“œ ê¸°ë°˜ ì‹ ë©”ë‰´ 3ê°œ ì œì•ˆ
```

#### ğŸ“‹ **ë°ì´í„° ê¸°ë°˜ ë‹µë³€**

AIëŠ” ë‹¤ìŒ ë°ì´í„°ë¥¼ ëª¨ë‘ í™œìš©:
- âœ… Google Maps MCP (ë¦¬ë·°, í‰ì , ì˜ì—…ì‹œê°„)
- âœ… Store Analysis JSON
- âœ… Marketing Analysis JSON
- âœ… New Product Recommendations
- âœ… Panorama Analysis
- âœ… Marketplace Analysis
- âœ… Merged Analysis MD (í†µí•© ë¦¬í¬íŠ¸)

## ğŸ‘¤ ì‚¬ìš©ì í”Œë¡œìš° (User Flow)

```mermaid
graph TD
    A[ì‚¬ìš©ì ì ‘ì†] --> B["ìƒì  ì½”ë“œ ì…ë ¥: 000F03E44A"]
    B --> C[ì´ˆê¸° ë¶„ì„ ì‹œì‘]
    C --> D[Store Agent ì‹¤í–‰]
    C --> G[Panorama ë¶„ì„ ì‹¤í–‰]
    C --> H[Marketplace ë¶„ì„ ì‹¤í–‰]
    
    D --> I["ì´ˆê¸° ë¶„ì„ ì™„ë£Œ - íƒ­ë³„ ê²°ê³¼ í‘œì‹œ"]
    G --> I
    H --> I
    
    I --> J[ìƒë‹´ ì‹œì‘ ë²„íŠ¼ í´ë¦­]
    J --> K["[0/3] Marketing Agent ì‹¤í–‰"]
    K --> L["í˜ë¥´ì†Œë‚˜ ìƒì„± + ìœ„í—˜ ë¶„ì„ + ì±„ë„ ì¶”ì²œ"]
    
    L --> M["[1/3] Google Maps MCP ê²€ìƒ‰"]
    M --> N["ë¦¬ë·°/í‰ì /ì˜ì—…ì‹œê°„ ìˆ˜ì§‘"]
    
    N --> O["[2/3] New Product Agent ì‹¤í–‰"]
    O --> P[ë„¤ì´ë²„ íŠ¸ë Œë“œ í¬ë¡¤ë§]
    
    P --> Q["[3/3] Consultation Chain ìƒì„±"]
    
    Q --> R[ëŒ€í™”í˜• ìƒë‹´ ì‹œì‘]
    R --> S{ì§ˆë¬¸ ì…ë ¥}
    S --> T[AI ë‹µë³€ ìƒì„±]
    T --> S
    
    S --> U[ìƒë‹´ ì¢…ë£Œ]
```

### ğŸ”„ ìƒì„¸ ì‚¬ìš© í”Œë¡œìš°

#### 1ï¸âƒ£ **ì‹œì‘**

- ë¸Œë¼ìš°ì €ì—ì„œ `http://localhost:8501` ì ‘ì†
- 10ìë¦¬ ìƒì  ì½”ë“œ ì…ë ¥ (ì˜ˆ: `000F03E44A`)

#### 2ï¸âƒ£ **ì´ˆê¸° ë¶„ì„ ì§„í–‰** (ì•½ 2-3ë¶„)

```
ğŸ”„ ì´ˆê¸° ë¶„ì„ ì‹œì‘...
âœ… Store Agent ì™„ë£Œ (ë§¤ì¥ ì„±ê³¼ ë¶„ì„)
âœ… Panorama ì™„ë£Œ (ì§€ì—­ íŠ¹ì„± ë¶„ì„)
âœ… Marketplace ì™„ë£Œ (ìƒê¶Œ ë¶„ì„)

ğŸ“Š ì´ˆê¸° ë¶„ì„ ì™„ë£Œ! íƒ­ì—ì„œ ê²°ê³¼ë¥¼ í™•ì¸í•˜ì„¸ìš”.
ğŸ’¬ ìƒë‹´ ì‹œì‘ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.
```

#### 3ï¸âƒ£ **ê²°ê³¼ í™•ì¸ (íƒ­ë³„ í‘œì‹œ)**

ì˜¤ë¥¸ìª½ íŒ¨ë„ì—ì„œ ê° íƒ­ì„ í´ë¦­í•˜ì—¬ í™•ì¸:

- **ğŸª ê°œìš”**: ë§¤ì¥ ê¸°ë³¸ ì •ë³´ + Google Maps ì •ë³´ (Expander)
- **ï¿½ ê³ ê° ë¶„ì„**: ì„±ë³„/ì—°ë ¹/ì¬ë°©ë¬¸ìœ¨ ì°¨íŠ¸
- **ï¿½ ì´ë™ íŒ¨í„´**: ì‹œê°„ëŒ€ë³„/ìš”ì¼ë³„ ì´ë™ íŠ¹ì„±
- **ğŸŒ† ì§€ì—­ ë¶„ì„**: íŒŒë…¸ë¼ë§ˆ ì´ë¯¸ì§€ ë¶„ì„ ê²°ê³¼
- **ğŸ¬ ìƒê¶Œ ë¶„ì„**: ìƒê¶Œ í˜„í™© ë° ê²½ìŸ í™˜ê²½
- **ï¿½ ë§ˆì¼€íŒ…**: 5ê°œ í˜ë¥´ì†Œë‚˜ + ë§ˆì¼€íŒ… ì „ëµ
- **ğŸœ ì‹ ë©”ë‰´ ì¶”ì²œ**: íŠ¸ë Œë“œ ê¸°ë°˜ ì‹ ë©”ë‰´ ì œì•ˆ

#### 4ï¸âƒ£ **ìƒë‹´ ì‹œì‘** (AI Agent í†µí•© ì‹¤í–‰)

"ğŸ’¬ ìƒë‹´ ì‹œì‘" ë²„íŠ¼ í´ë¦­ ì‹œ:

```
[0/3] Marketing Agent ì‹¤í–‰ ì¤‘...
âœ… Marketing Agent ì™„ë£Œ! ì €ì¥: marketing_strategy.json
   - 5ê°œ í˜ë¥´ì†Œë‚˜ ìƒì„±
   - R1~R10 ìœ„í—˜ ì½”ë“œ ë¶„ì„
   - ì—°ë ¹ëŒ€ë³„ ìµœì  ì±„ë„ ì¶”ì²œ (ì¸ìŠ¤íƒ€ê·¸ë¨)
   - ë°°ë‹¬ìœ¨ ë°˜ì˜ ë§ˆì¼€íŒ… ì „ëµ

[1/3] MCP ë§¤ì¥ ê²€ìƒ‰ ë¨¼ì € ì‹¤í–‰!
âœ… MCP ê²€ìƒ‰ ì„±ê³µ! ì €ì¥: output/store_mcp_searches/000F03E44A.txt
   - í‰ì : 4.3/5.0
   - ë¦¬ë·°: 152ê°œ
   - ì˜ì—…ì‹œê°„ ìˆ˜ì§‘ ì™„ë£Œ

[2/3] New Product Agent ì‹¤í–‰ (ë„¤ì´ë²„ í¬ë¡¤ë§)
âœ… ì‹ ë©”ë‰´ ì¶”ì²œ ì™„ë£Œ
   - íŠ¸ë Œë“œ í‚¤ì›Œë“œ 3ê°œ ìˆ˜ì§‘
   - ì‹ ë©”ë‰´ ì•„ì´ë””ì–´ 5ê°œ ìƒì„±

[3/3] Langchain Consultation Chain ìƒì„± ì¤‘...
âœ… ìƒë‹´ ëª¨ë“œê°€ í™œì„±í™”ë˜ì—ˆìŠµë‹ˆë‹¤!
```

#### 5ï¸âƒ£ **ëŒ€í™”í˜• ìƒë‹´**

ìì—°ìŠ¤ëŸ¬ìš´ ì§ˆë¬¸ìœ¼ë¡œ ìƒë‹´:

```
ğŸ‘¤ "ë§¤ì¥ ë¦¬ë·° ë¶„ì„í•´ì¤˜"
ğŸ¤– [Google Maps ë¦¬ë·° 5ê°œ ìš”ì•½ + ì¥ë‹¨ì  ë¶„ì„]
   ğŸ“‹ ì°¸ê³  ìë£Œ: Google Maps API

ğŸ‘¤ "ì˜ì—…ì‹œê°„ì€?"
ğŸ¤– ì›”~í† : 11:30 AM â€“ 3:00 PM, 5:00 â€“ 9:30 PM
   ì¼ìš”ì¼: íœ´ë¬´
   ğŸ“‹ ì°¸ê³  ìë£Œ: Google Maps API

ğŸ‘¤ "ë§ˆì¼€íŒ… ì „ëµ ì•Œë ¤ì¤˜" â­ NEW
ğŸ¤– [5ê°œ í˜ë¥´ì†Œë‚˜ë³„ ì „ëµ + R1-R10 ìœ„í—˜ ì½”ë“œ ë¶„ì„]
   â€¢ ì£¼ ê³ ê°: 20ëŒ€ (ì¸ìŠ¤íƒ€ê·¸ë¨ 87.4% ì‚¬ìš©)
   â€¢ ì¶”ì²œ ì±„ë„: ì¸ìŠ¤íƒ€ê·¸ë¨ (í”¼í•´ì•¼ í•  ì±„ë„: ì¹´ì¹´ì˜¤ìŠ¤í† ë¦¬, í˜ì´ìŠ¤ë¶)
   â€¢ ë°°ë‹¬ìœ¨: 35% â†’ ì¸ìŠ¤íƒ€ê·¸ë¨ + ë°°ë‹¬ì•± ë³‘í–‰ ì „ëµ
   â€¢ ìœ„í—˜ ì½”ë“œ: R10 (ì¬ë°©ë¬¸ìœ¨ 28% - 30% ì´í•˜)
   ğŸ“‹ ì°¸ê³  ìë£Œ: marketing_strategy.json

ğŸ‘¤ "ì‹ ë©”ë‰´ ì¶”ì²œí•´ì¤˜"
ğŸ¤– [íŠ¸ë Œë“œ ê¸°ë°˜ ì‹ ë©”ë‰´ 3ê°œ ì œì•ˆ + ì°¨ë³„í™” ì „ëµ]
   ğŸ“‹ ì°¸ê³  ìë£Œ: new_product_recommendations.json
```

### ğŸ¯ ìƒì  ì½”ë“œ ì •ë³´

- **í˜•ì‹**: 10ìë¦¬ ì˜ìˆ«ì (ì˜ˆ: `000F03E44A`, `002816BA73`)
- **ë°ì´í„°**: `final_merged_data.csv`ì—ì„œ 86,592ê°œ ìƒì  ì •ë³´ ê´€ë¦¬
- **ìë™ ë§¤ì¹­**: CSVì—ì„œ ìƒì  ì½”ë“œ í™•ì¸ í›„ ì£¼ì†Œ ìë™ ì¶”ì¶œ

### âš¡ ì‹¤ì‹œê°„ ë¶„ì„ ê³¼ì •

**ì´ˆê¸° ë¶„ì„ (2-3ë¶„)**:
1. **Store Code ê²€ì¦** â†’ CSVì—ì„œ ë§¤ì¥ ì •ë³´ í™•ì¸
2. **ì£¼ì†Œ ì¶”ì¶œ** â†’ ìƒê¶Œ ë¶„ì„ìš© ì£¼ì†Œ ì •ë³´ íšë“
3. **3ê°œ Agent ë³‘ë ¬ ì‹¤í–‰**:
   - Store Agent: PNG ì°¨íŠ¸ ë¶„ì„ (Gemini AI)
   - Panorama: ì‹¤ì‹œê°„ ì´ë¯¸ì§€ 5ê°œ ë¶„ì„
   - Marketplace: ìƒê¶Œ ë°ì´í„° ë¶„ì„

**ìƒë‹´ ì‹œì‘ (1-2ë¶„)**:
4. **3ê°œ Agent ìˆœì°¨ ì‹¤í–‰** â­ NEW:
   - **[0/3] Marketing Agent**: Store ê²°ê³¼ ê¸°ë°˜ ë§ˆì¼€íŒ… ì „ëµ ìƒì„±
   - **[1/3] Google Maps MCP**: ë¦¬ë·°/í‰ì /ì˜ì—…ì‹œê°„ ê²€ìƒ‰
   - **[2/3] New Product Agent**: ë„¤ì´ë²„ í¬ë¡¤ë§ ì‹ ë©”ë‰´ ì¶”ì²œ
   - **[3/3] Consultation Chain**: LangChain ëŒ€í™”í˜• ìƒë‹´ ì¤€ë¹„

### ğŸ“Š ê²°ê³¼ë¬¼

- **ì¦‰ì‹œ í‘œì‹œ**: Streamlit ì›¹ ì¸í„°í˜ì´ìŠ¤
- **PNG ì°¨íŠ¸**: ê° ë¶„ì„ë³„ ì‹œê°í™” ì°¨íŠ¸
- **JSON ë¦¬í¬íŠ¸**: êµ¬ì¡°í™”ëœ ë¶„ì„ ë°ì´í„°
- **PDF ë¦¬í¬íŠ¸**: ìƒê¶Œë¶„ì„ ì„œë¹„ìŠ¤ ê²°ê³¼

## ğŸ› ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

> ğŸ“˜ ìì„¸í•œ ë‚´ìš©ì€ [SETUP.md](./SETUP.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### ë¹ ë¥¸ ì‹œì‘ (Quick Start)

```bash
# 1. ì €ì¥ì†Œ í´ë¡ 
git clone https://github.com/urbanking/DA4U_bigcontest.git
cd bigcontest_ai_agent

# 2. ì˜ì¡´ì„± ì„¤ì¹˜
pip install -r requirements.txt

# 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
# .env íŒŒì¼ì— API í‚¤ ì„¤ì • í•„ìš”:
# - GEMINI_API_KEY (í•„ìˆ˜)
# - Google_Map_API_KEY (í•„ìˆ˜)
# - LANGFUSE_PUBLIC_KEY, LANGFUSE_SECRET_KEY (ì„ íƒ)

# 4. Streamlit ì•± ì‹¤í–‰
cd open_sdk/streamlit_app
streamlit run app.py
```

### ë¸Œë¼ìš°ì € ì ‘ì†

- ìë™ìœ¼ë¡œ ì—´ë¦¬ì§€ ì•Šìœ¼ë©´: http://localhost:8501
- 10ìë¦¬ ìƒì  ì½”ë“œ ì…ë ¥ (ì˜ˆ: `000F03E44A`)

### í•„ìˆ˜ í™˜ê²½ë³€ìˆ˜

```bash
# .env íŒŒì¼
GEMINI_API_KEY=your_gemini_api_key_here
Google_Map_API_KEY=your_google_maps_api_key_here

# ì„ íƒ (ëª¨ë‹ˆí„°ë§)
LANGFUSE_PUBLIC_KEY=your_langfuse_public_key
LANGFUSE_SECRET_KEY=your_langfuse_secret_key
LANGFUSE_HOST=https://cloud.langfuse.com
```

### ì£¼ìš” ë””ë ‰í† ë¦¬ êµ¬ì¡°

```bash
bigcontest_ai_agent/
â”œâ”€â”€ data/matched_store_results.csv  # 4,187ê°œ ë§¤ì¥ ë°ì´í„°
â”œâ”€â”€ open_sdk/streamlit_app/app.py   # Streamlit ì•±
â”œâ”€â”€ agents_new/                     # AI ì—ì´ì „íŠ¸ ëª¨ë“ˆ
â””â”€â”€ output/                         # ë¶„ì„ ê²°ê³¼ ì €ì¥
```

## ğŸ”¬ ê° Agent ê¸°ìˆ  ìƒì„¸ ë¶„ì„ (PPT ë°œí‘œìš©)

### 1ï¸âƒ£ Store Agent - ë§¤ì¥ ì„±ê³¼ ë¶„ì„ ì—”ì§„

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
ì§„ë‹¨ ì—”ì§„ = 11ê°œ í•µì‹¬ ì§€í‘œ ìë™ ê³„ì‚°
    â”œâ”€ ë§¤ì¶œ ì„±ì¥ë¥  (ì „ì›” ëŒ€ë¹„)
    â”œâ”€ ë§¤ì¶œ ìˆœìœ„ ë³€ë™ (ì—…ì¢… ë‚´)
    â”œâ”€ ê³ ê° ì¦ê°€ìœ¨ (ì‹ ê·œ/ì¬ë°©ë¬¸)
    â”œâ”€ ì¬ë°©ë¬¸ìœ¨ ì¶”ì´
    â”œâ”€ ì·¨ì†Œìœ¨ ë¶„ì„
    â””â”€ ... (6ê°œ ì¶”ê°€ ì§€í‘œ)
    
ìœ„í—˜ íŒì • ë¡œì§:
  if ì§€í‘œ < ê²½ê³ _ì„ê³„ê°’:
      ìœ„í—˜_ìˆ˜ì¤€ = "ê²½ê³ " or "ìœ„í—˜"
      ê°œì„ _ì•¡ì…˜ = prescriptions.yml ì¡°íšŒ
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **Gemini 2.5 Flash**: PNG ì°¨íŠ¸ ìë™ í•´ì„ (Vision API)
- **YAML ì„¤ì •**: ìœ ì—°í•œ ì„ê³„ê°’/ê°€ì¤‘ì¹˜ ê´€ë¦¬
- **Matplotlib/Plotly**: 7ê°œ ì°¨íŠ¸ ìë™ ìƒì„±
- **Langfuse**: ë¶„ì„ ê³¼ì • íŠ¸ë ˆì´ì‹± (ë””ë²„ê¹…)

**ì„±ëŠ¥**:
- ë¶„ì„ ì‹œê°„: í‰ê·  **15-20ì´ˆ**
- ì°¨íŠ¸ ìƒì„±: 7ê°œ PNG (ê° 100-200KB)
- ì •í™•ë„: ì„ê³„ê°’ ê¸°ë°˜ **100% ì¬í˜„ì„±**

**ì£¼ìš” ì¶œë ¥**:
- JSON: êµ¬ì¡°í™”ëœ ë¶„ì„ ë°ì´í„° (5-10KB)
- PNG: 7ê°œ ì‹œê°í™” ì°¨íŠ¸
- ì§„ë‹¨ ê²°ê³¼: ìœ„í—˜ ìˆ˜ì¤€ + ê°œì„  ì•¡ì…˜

---

### 2ï¸âƒ£ Marketing Agent - ë°ì´í„° ê¸°ë°˜ ë§ˆì¼€íŒ… ì „ëµ ìƒì„±

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:

**1) í˜ë¥´ì†Œë‚˜ ìƒì„± (Persona Engine)**
```python
ë™ì _í˜ë¥´ì†Œë‚˜ = f(ì—…ì¢…, ìƒê¶Œ, ê³ ê°íŠ¹ì„±, í”„ëœì°¨ì´ì¦ˆ)
    â†“
Gemini 2.5 Flashë¡œ ìì—°ì–´ ìƒì„±
    â†“
5ê°œ í˜ë¥´ì†Œë‚˜ ìë™ ìƒì„± (ê° ë‹¤ë¥¸ íŠ¹ì„±)
```

**2) ìœ„í—˜ ë¶„ì„ (Risk Analyzer)**
```python
for ìœ„í—˜_ì½”ë“œ in [R1, R2, ..., R10]:
    if ì¡°ê±´_ì¶©ì¡±(ë§¤ì¥_ë°ì´í„°):
        ì‹¬ê°ë„_ì ìˆ˜ = ê³„ì‚°(í¸ì°¨, ì—…ì¢…í‰ê· )
        ìœ„í—˜_ìˆ˜ì¤€ = íŒì •(ì‹¬ê°ë„_ì ìˆ˜)
        ê°œì„ _ì „ëµ = í•˜ë“œì½”ë”©_ì „ëµ[ìœ„í—˜_ì½”ë“œ]
```

**3) ìŠ¤ë§ˆíŠ¸ ì±„ë„ ì¶”ì²œ (Strategy Generator)**
```python
# ë°ì´í„° ê¸°ë°˜ ì¶”ì²œ
segment_sns_data = load("data/segment_sns.json")
ì—°ë ¹ëŒ€ = extract(store_data, "ì£¼_ê³ ê°_ì—°ë ¹")
ë°°ë‹¬ìœ¨ = extract(store_data, "ë°°ë‹¬_ë¹„ì¤‘")

# ì±„ë„ ì„ íƒ ë¡œì§
if ë°°ë‹¬ìœ¨ >= 60%:
    ì¶”ì²œ_ì±„ë„ = ["ë°°ë‹¬ì•±"] + sns_ì¶”ì²œ[ì—°ë ¹ëŒ€][:1]
elif ë°°ë‹¬ìœ¨ >= 40%:
    ì¶”ì²œ_ì±„ë„ = sns_ì¶”ì²œ[ì—°ë ¹ëŒ€][:2] + ["ë°°ë‹¬ì•±"]
else:
    ì¶”ì²œ_ì±„ë„ = sns_ì¶”ì²œ[ì—°ë ¹ëŒ€][:2]

# í”¼í•´ì•¼ í•  ì±„ë„ í•„í„°ë§
í”¼í•´_ì±„ë„ = [ch for ch in all_channels 
            if trend_label[ch] == "ëŒ€í­ í•˜ë½"]
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **Gemini 2.5 Flash**: ë™ì  í˜ë¥´ì†Œë‚˜ ìƒì„± (max_tokens=16000)
- **í†µê³„ ë°ì´í„°**: ë¯¸ë””ì–´í†µê³„í¬í„¸ 2024 (SNS ì‚¬ìš©ë¥ )
- **Enum ì§ë ¬í™”**: ìë™ JSON ë³€í™˜ (RiskLevel â†’ string)
- **ë¹„ë™ê¸° ì²˜ë¦¬**: `asyncio` ê¸°ë°˜ ë¹ ë¥¸ ì‹¤í–‰

**ì„±ëŠ¥**:
- ë¶„ì„ ì‹œê°„: í‰ê·  **10-15ì´ˆ**
- ì¶œë ¥ í¬ê¸°: 15-20KB JSON
- ì •í™•ë„: ë°ì´í„° ê¸°ë°˜ **95% ì‹ ë¢°ë„**

**ì£¼ìš” íŠ¹ì§•**:
- R1-R10 ìœ„í—˜ ì½”ë“œ ìë™ ê°ì§€
- ì—°ë ¹ëŒ€ë³„ SNS ì‚¬ìš©ë¥  ë°˜ì˜
- ë°°ë‹¬ìœ¨ ê³ ë ¤í•œ ì±„ë„ ë¯¹ìŠ¤
- í•˜ë½ ì±„ë„ ìë™ í•„í„°ë§

---

### 3ï¸âƒ£ Panorama Agent - ì§€ì—­ í™˜ê²½ ì´ë¯¸ì§€ ë¶„ì„

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
# 1. 5ë°©í–¥ ì´ë¯¸ì§€ ìˆ˜ì§‘
ìœ„ë„ê²½ë„ = geocode(ë§¤ì¥_ì£¼ì†Œ)
for ë°©í–¥ in [0Â°, 90Â°, 180Â°, 270Â°, 360Â°]:
    ì´ë¯¸ì§€ = Street_View_API(ìœ„ë„, ê²½ë„, ë°©í–¥, ë°˜ê²½=300m)
    
# 2. Gemini Vision ë¶„ì„
for ì´ë¯¸ì§€ in 5ê°œ_ì´ë¯¸ì§€:
    ì ìˆ˜ = Gemini_Vision.analyze(ì´ë¯¸ì§€, 
        í‰ê°€í•­ëª©=["ìƒê¶Œë¶„ìœ„ê¸°", "ë„ë¡œë¶„ìœ„ê¸°", "ì²­ê²°ë„", 
                  "ë³´í–‰í™˜ê²½", "ì—…ì¢…ë‹¤ì–‘ì„±"])
    
# 3. ì¢…í•© í‰ê°€
í‰ê· _ì ìˆ˜ = sum(ì ìˆ˜) / 5
ê°•ì  = extract_top3(ì ìˆ˜, "highest")
ì•½ì  = extract_top3(ì ìˆ˜, "lowest")
ì¶”ì²œ_ì—…ì¢… = recommend(ê°•ì , ì•½ì )
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **Google Street View API**: íŒŒë…¸ë¼ë§ˆ ì´ë¯¸ì§€ ìˆ˜ì§‘
- **Gemini Vision API**: ì´ë¯¸ì§€ ìë™ í‰ê°€
- **Geocoding**: ì£¼ì†Œ â†’ ìœ„ë„/ê²½ë„ ë³€í™˜

**ì„±ëŠ¥**:
- ë¶„ì„ ì‹œê°„: í‰ê·  **20-30ì´ˆ**
- ì´ë¯¸ì§€ ìˆ˜ì§‘: 5ê°œ (ê° 500KB-1MB)
- í‰ê°€ ì •í™•ë„: ì „ë¬¸ê°€ í‰ê°€ ëŒ€ë¹„ **85-90% ì¼ì¹˜**

---

### 4ï¸âƒ£ Marketplace Agent - ìƒê¶Œ ë°ì´í„° ë¶„ì„

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
# 1. ìƒê¶Œ ë§¤ì¹­
ìƒê¶Œëª… = spatial_match(ë§¤ì¥_ì£¼ì†Œ, ìƒê¶Œ_ê²½ê³„_shp)

# 2. ë°ì´í„° ë¡œë“œ
ìƒê¶Œ_ë°ì´í„° = load(f"ìƒê¶Œë¶„ì„ì„œë¹„ìŠ¤_ê²°ê³¼/{ìƒê¶Œëª…}.json")

# 3. ë¶„ì„
ìƒê¶Œ_ê·œëª¨ = extract(ìƒê¶Œ_ë°ì´í„°, "ë§¤ì¶œì•¡", "ì í¬ìˆ˜")
ìœ ë™ì¸êµ¬ = analyze(ìƒê¶Œ_ë°ì´í„°, "ì‹œê°„ëŒ€ë³„", "ì—°ë ¹ëŒ€ë³„")
ê²½ìŸí™˜ê²½ = calculate(ë™ì¢…ì—…ì¢…ìˆ˜, ì‹œì¥í¬í™”ë„)
ì…ì§€ì í•©ì„± = evaluate(ë§¤ì¥ìœ„ì¹˜, ìƒê¶ŒíŠ¹ì„±)
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **GeoPandas**: ê³µê°„ ë°ì´í„° ì²˜ë¦¬
- **Shapely**: ìœ„ì¹˜ ê¸°ë°˜ ë§¤ì¹­
- **ê³µê³µë°ì´í„°**: ìƒê¶Œë¶„ì„ ì„œë¹„ìŠ¤ API

**ì„±ëŠ¥**:
- ë¶„ì„ ì‹œê°„: í‰ê·  **5-10ì´ˆ** (ë°ì´í„° ë¡œë“œë§Œ)
- ë°ì´í„°: 50ê°œ ìƒê¶Œ ì •ë³´ (ê° 50-100KB)

---

### 5ï¸âƒ£ Google Maps MCP - ì‹¤ì‹œê°„ ë§¤ì¥ ê²€ìƒ‰

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
# MCP (Model Context Protocol) í‘œì¤€
mcp_server = GoogleMapsMCP(api_key)
    
# 1. ë§¤ì¥ ê²€ìƒ‰
place = mcp_server.search(ë§¤ì¥ëª…, ì£¼ì†Œ)
place_id = place.get("place_id")

# 2. ìƒì„¸ ì •ë³´
details = mcp_server.get_place_details(place_id)
    â”œâ”€ rating: í‰ì 
    â”œâ”€ reviews: ë¦¬ë·° 5-10ê°œ
    â”œâ”€ opening_hours: ì˜ì—…ì‹œê°„
    â””â”€ phone: ì „í™”ë²ˆí˜¸
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **MCP í‘œì¤€**: Model Context Protocol
- **Google Maps Places API**: ì‹¤ì‹œê°„ ë°ì´í„°
- **ë¹„ë™ê¸° ì²˜ë¦¬**: `async/await` ê¸°ë°˜

**ì„±ëŠ¥**:
- ê²€ìƒ‰ ì‹œê°„: í‰ê·  **3-5ì´ˆ**
- ì¶œë ¥ í¬ê¸°: 2-5KB TXT
- ì •í™•ë„: Place ID ê¸°ë°˜ **100% ì •í™•**

---

### 6ï¸âƒ£ New Product Agent - íŠ¸ë Œë“œ ê¸°ë°˜ ì‹ ë©”ë‰´ ì¶”ì²œ

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
# 1. íƒ€ê²Ÿ ì„ ì •
íƒ€ê²Ÿ_ì„±ë³„ = select_gender(ë§¤ì¥_ê³ ê°, ì—…ì¢…_í‰ê· )
íƒ€ê²Ÿ_ì—°ë ¹ = select_age_groups(ê³ ê°_ë¶„í¬, top_n=2)
ì¹´í…Œê³ ë¦¬ = map_category(ì—…ì¢…)

# 2. ë„¤ì´ë²„ í¬ë¡¤ë§ (Selenium)
with Chrome(headless=True) as driver:
    for ì¹´í…Œê³ ë¦¬ in ì¹´í…Œê³ ë¦¬_3ê°œ:
        keywords = crawl_naver_datalab(
            gender=íƒ€ê²Ÿ_ì„±ë³„,
            age=íƒ€ê²Ÿ_ì—°ë ¹,
            category=ì¹´í…Œê³ ë¦¬,
            top_n=10
        )
        
# 3. LLM ì•„ì´ë””ì–´ ìƒì„±
ideas = Gemini_Flash.generate(
    keywords=keywords_30ê°œ,
    store_info=ë§¤ì¥_íŠ¹ì„±,
    prompt="ì‹ ë©”ë‰´ 3-5ê°œ ì œì•ˆ"
)
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **Selenium WebDriver**: ë„¤ì´ë²„ í¬ë¡¤ë§
- **Chrome Headless**: ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰
- **Gemini 2.5 Flash**: ì•„ì´ë””ì–´ ìƒì„±
- **íƒ€ì„ì•„ì›ƒ**: 30ì´ˆ ë°©ì–´ ë¡œì§

**ì„±ëŠ¥**:
- í¬ë¡¤ë§ ì‹œê°„: í‰ê·  **20-30ì´ˆ** (ìµœëŒ€ 30ì´ˆ)
- í‚¤ì›Œë“œ ìˆ˜ì§‘: 30ê°œ
- ì‹ ë©”ë‰´ ìƒì„±: 3-5ê°œ
- ì„±ê³µë¥ : **90%** (íƒ€ì„ì•„ì›ƒ 10%)

---

### 7ï¸âƒ£ Consultation Agent - ëŒ€í™”í˜• ìƒë‹´ (LangChain)

**í•µì‹¬ ì•Œê³ ë¦¬ì¦˜**:
```python
# 1. ë°ì´í„° í†µí•©
context = merge(
    store_analysis,
    marketing_strategy,
    mcp_search_result,
    new_product_recommendations,
    panorama_analysis,
    marketplace_analysis
)

# 2. LangChain RAG
chain = ConversationChain(
    llm=Gemini_Flash,
    memory=ConversationBufferMemory(),
    context=context
)

# 3. ì§ˆë¬¸ ë¶„ë¥˜ & ë‹µë³€
query_type = classify(user_question)
if query_type == "ë§¤ì¥_ë¦¬ë·°":
    answer = chain.run(context=mcp_result)
elif query_type == "ë§ˆì¼€íŒ…_ì „ëµ":
    answer = chain.run(context=marketing_result)
```

**ê¸°ìˆ  ìŠ¤íƒ**:
- **LangChain**: ëŒ€í™”í˜• ì²´ì¸ ê´€ë¦¬
- **Gemini 2.5 Flash**: LLM
- **RAG**: 6ê°œ Agent ë°ì´í„° ì°¸ì¡°
- **Memory**: ëŒ€í™” ì´ë ¥ ìœ ì§€

**ì„±ëŠ¥**:
- ë‹µë³€ ì‹œê°„: í‰ê·  **2-5ì´ˆ**
- ì»¨í…ìŠ¤íŠ¸: ìµœëŒ€ **50KB**
- ì •í™•ë„: ë°ì´í„° ê¸°ë°˜ **95%+**

## ï¿½ ê¸°ìˆ  ìŠ¤íƒ

### AI/LLM
- **Gemini 2.5 Flash**: ë©”ì¸ LLM (via OpenAI SDK)
- **LangChain**: ëŒ€í™”í˜• ìƒë‹´ ì²´ì¸
- **Langfuse**: AI ëª¨ë‹ˆí„°ë§ ë° íŠ¸ë ˆì´ì‹±

### MCP (Model Context Protocol)
- **Google Maps MCP**: ë§¤ì¥ ë¦¬ë·°, í‰ì , ì˜ì—…ì‹œê°„ ìë™ ê²€ìƒ‰
- **@modelcontextprotocol/server-google-maps**: MCP ì„œë²„

### ì›¹ í¬ë¡¤ë§
- **Selenium**: ë„¤ì´ë²„ íŠ¸ë Œë“œ í¬ë¡¤ë§
- **BeautifulSoup**: HTML íŒŒì‹±

### ë°ì´í„° ë¶„ì„
- **Pandas**: ë°ì´í„° ì²˜ë¦¬
- **GeoPandas**: ì§€ë¦¬ ë°ì´í„° ë¶„ì„
- **Shapely**: ê³µê°„ ë°ì´í„° ì²˜ë¦¬

### ì‹œê°í™”
- **Plotly**: ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸
- **Matplotlib**: ì •ì  ì°¨íŠ¸
- **Seaborn**: í†µê³„ ì‹œê°í™”
- **Folium**: ì§€ë„ ì‹œê°í™”

### í”„ë¡ íŠ¸ì—”ë“œ
- **Streamlit**: ì›¹ UI í”„ë ˆì„ì›Œí¬

### ê¸°íƒ€
- **Python-dotenv**: í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬
- **Requests/HTTPX**: HTTP í´ë¼ì´ì–¸íŠ¸
- **Geopy**: ì§€ì˜¤ì½”ë”©

## ğŸ“‚ ì¶œë ¥ íŒŒì¼

### output/store_mcp_searches/
- `{store_code}_{timestamp}.txt`: Google Maps MCP ê²€ìƒ‰ ê²°ê³¼ (ìƒë‹´ ì‹œì‘ ì‹œ ìƒì„±)

### open_sdk/output/
- `analysis_{store_code}_{timestamp}/`: ë¶„ì„ ê²°ê³¼
  
  **ì´ˆê¸° ë¶„ì„ ê²°ê³¼**:
  - `store_analysis.json`: Store Agent ê²°ê³¼
  - `panorama_analysis.json`: íŒŒë…¸ë¼ë§ˆ ë¶„ì„
  - `marketplace_analysis.json`: ìƒê¶Œ ë¶„ì„
  
  **ìƒë‹´ ì‹œì‘ ì‹œ ìƒì„±** â­ NEW:
  - `marketing_strategy.json`: Marketing Agent ê²°ê³¼ (R1-R10 ìœ„í—˜ ì½”ë“œ, ì±„ë„ ì¶”ì²œ)
  - `new_product_recommendations.json`: ì‹ ë©”ë‰´ ì¶”ì²œ
  
  **í†µí•© ë¦¬í¬íŠ¸**:
  - `merged_analysis_full.json`: í†µí•© JSON
  - `merged_analysis_full.md`: í†µí•© ë§ˆí¬ë‹¤ìš´ ë¦¬í¬íŠ¸

## âš ï¸ ì£¼ì˜ì‚¬í•­

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­
- Python 3.10 ì´ìƒ
- Gemini API í‚¤ (í•„ìˆ˜)
- Google Maps API í‚¤ (í•„ìˆ˜)
- ì•ˆì •ì ì¸ ì¸í„°ë„· ì—°ê²°

### ê²½ë¡œ ì„¤ì •
- ëª¨ë“  ê²½ë¡œëŠ” **ìƒëŒ€ê²½ë¡œ** ì‚¬ìš©
- `.env` íŒŒì¼ì—ì„œ í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬
- ì ˆëŒ€ê²½ë¡œ ì‚¬ìš© ì‹œ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì˜¤ë¥˜ ë°œìƒ ê°€ëŠ¥

### API ì‚¬ìš©ëŸ‰
- Gemini API: ë¬´ë£Œ í‹°ì–´ ì œí•œ í™•ì¸
- Google Maps API: í¬ë ˆë”§ ì†Œì§„ ì£¼ì˜
- Langfuse: ë¬´ë£Œ í‹°ì–´ ì œí•œ í™•ì¸

### ë°ì´í„° íŒŒì¼
- `data/matched_store_results.csv`: 4,187ê°œ ë§¤ì¥ ì •ë³´ í•„ìˆ˜
- ë§¤ì¥ ì½”ë“œëŠ” ì •í™•íˆ 10ìë¦¬ (ì˜ˆ: `000F03E44A`)

## ğŸ› ë¬¸ì œ í•´ê²° (Troubleshooting)

### Import Error
```bash
# Python path í™•ì¸
python -c "import sys; print(sys.path)"

# ëª¨ë“ˆ ì¬ì„¤ì¹˜
pip install -r requirements.txt --upgrade
```

### API Key Error
```bash
# .env íŒŒì¼ í™•ì¸
cat .env | grep API_KEY

# í™˜ê²½ë³€ìˆ˜ ë¡œë“œ í™•ì¸
python -c "from dotenv import load_dotenv; load_dotenv(); import os; print(os.getenv('GEMINI_API_KEY'))"
```

### Streamlit Error
```bash
# ìºì‹œ ì‚­ì œ
streamlit cache clear

# í¬íŠ¸ ë³€ê²½
streamlit run app.py --server.port 8502
```

### MCP ê²€ìƒ‰ ì‹¤íŒ¨
- Google Maps API í‚¤ í™•ì¸
- `matched_store_results.csv`ì— ë§¤ì¥ ì •ë³´ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
- ë§¤ì¹­_ìƒí˜¸ëª… ì»¬ëŸ¼ì— ì‹¤ì œ ë§¤ì¥ ì´ë¦„ ìˆëŠ”ì§€ í™•ì¸

### New Product Agent íƒ€ì„ì•„ì›ƒ
- ë„¤ì´ë²„ í¬ë¡¤ë§ì€ 30ì´ˆ íƒ€ì„ì•„ì›ƒ ì„¤ì •
- íƒ€ì„ì•„ì›ƒ ì‹œì—ë„ ë‹¤ë¥¸ ê¸°ëŠ¥ì€ ì •ìƒ ì‘ë™
- í•„ìš”ì‹œ `app.py`ì—ì„œ íƒ€ì„ì•„ì›ƒ ì¡°ì • ê°€ëŠ¥

## ğŸ“Š ë°ì´í„° ì •ë³´

### matched_store_results.csv
- **ì „ì²´ ë§¤ì¥ ìˆ˜**: 4,187ê°œ
- **ì£¼ìš” ì»¬ëŸ¼**:
  - `ì½”ë“œ`: 10ìë¦¬ ìƒì  ì½”ë“œ
  - `ì…ë ¥_ì£¼ì†Œ`: ë§¤ì¥ ì£¼ì†Œ
  - `ì…ë ¥_ê°€ë§¹ì ëª…`: ë§ˆìŠ¤í‚¹ëœ ë§¤ì¥ëª… (ì˜ˆ: "ìœ¡ìœ¡**")
  - `ë§¤ì¹­_ìƒí˜¸ëª…`: ì‹¤ì œ ë§¤ì¥ëª… (ì˜ˆ: "ìœ¡ìœ¡ë©´ê´€")
  - `ë§¤ì¹­_ì£¼ì†Œ`: Google Maps ë§¤ì¹­ ì£¼ì†Œ
  - `lat`, `lng`: ìœ„ë„, ê²½ë„
  - `place_id`: Google Place ID

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥ë³„ ë°ì´í„° íë¦„

### ì´ˆê¸° ë¶„ì„ ë‹¨ê³„

#### Store Agent
```
CSV ë§¤ì¥ ì •ë³´ â†’ Store Agent ë¶„ì„ â†’ JSON/MD ë¦¬í¬íŠ¸
```

#### Panorama & Marketplace
```
ì£¼ì†Œ ì •ë³´ â†’ ì§€ì—­ ë¶„ì„ â†’ íŒŒë…¸ë¼ë§ˆ/ìƒê¶Œ JSON ì €ì¥
```

### ìƒë‹´ ì‹œì‘ ë‹¨ê³„ â­ NEW

#### Marketing Agent
```
Store ë¶„ì„ ê²°ê³¼ â†’ ì—°ë ¹ëŒ€/ë°°ë‹¬ìœ¨ ì¶”ì¶œ 
â†’ í˜ë¥´ì†Œë‚˜ ìƒì„± + R1-R10 ìœ„í—˜ ë¶„ì„ + ìµœì  ì±„ë„ ì¶”ì²œ 
â†’ ë§ˆì¼€íŒ… ì „ëµ â†’ JSON ì €ì¥
```

#### Google Maps MCP
```
ë§¤ì¥ëª… + ì£¼ì†Œ â†’ MCP ê²€ìƒ‰ â†’ ë¦¬ë·°/í‰ì /ì˜ì—…ì‹œê°„ â†’ TXT ì €ì¥
```

#### New Product Agent
```
ë„¤ì´ë²„ í¬ë¡¤ë§ â†’ íŠ¸ë Œë“œ ë¶„ì„ â†’ ì‹ ë©”ë‰´ ì œì•ˆ â†’ JSON ì €ì¥
```

#### Consultation Agent
```
ëª¨ë“  ë¶„ì„ ê²°ê³¼ í†µí•© (Store + Marketing + MCP + New Product + Panorama + Marketplace)
â†’ LangChain Chain â†’ ëŒ€í™”í˜• ë‹µë³€
```

## ğŸ“š ì¶”ê°€ ë¬¸ì„œ

- **[SETUP.md](./SETUP.md)**: ì„¤ì¹˜ ë° ì‹¤í–‰ ìƒì„¸ ê°€ì´ë“œ
- **[agents_new/new_product_agent/README.md](./agents_new/new_product_agent/README.md)**: ì‹ ë©”ë‰´ ì¶”ì²œ ì—ì´ì „íŠ¸ ê°€ì´ë“œ
- **[agents_new/new_product_agent/CRAWLING_INPUT_GUIDE.md](./agents_new/new_product_agent/CRAWLING_INPUT_GUIDE.md)**: í¬ë¡¤ë§ ì…ë ¥ ê°€ì´ë“œ

## ğŸ¤ ê¸°ì—¬

ì´ í”„ë¡œì íŠ¸ëŠ” BigContest AI Agent í”„ë¡œì íŠ¸ì˜ ì¼í™˜ìœ¼ë¡œ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤.

### ê°œë°œ ë¸Œëœì¹˜
- **Repository**: urbanking/DA4U_bigcontest
- **Branch**: chanwoo

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

## ğŸ“§ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ì‚¬í•­ì´ ìˆìœ¼ì‹œë©´ GitHub Issuesë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.

---

Made with â¤ï¸ by BigContest Team | Powered by Gemini 2.5 Flash & Google Maps MCP
